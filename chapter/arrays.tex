%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Массивы данных}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Массивы в языке Си}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Несколько однотипных переменных, связанных по смыслу, объединяют в массивы.
Доступ к отдельным элементам осуществляется по индексу, что упрощает
применение к ним одних и тех же действий в цикле.
%
\inputminted{c}{samples/array.c}

Массив определяется как переменная, после имени которой указывается размер в
квадратных скобках. Элементы массива нумеруются, начиная с нуля, для доступа к
ним используются те же квадратные скобки. Массив можно передавать в функцию и
там использовать (как в \verb|PrintArray()|) или даже менять значения
(как в \verb|ReadArray()|), для этого после имени соответствующего параметра
функции указываются пустые квадратные скобки. Более детально все тонкости
работы с массивами мы разберём позднее.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Строки}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Для хранения строк в языке Си используются массивы с элементами типа
\texttt{char}, которые хранят коды символов (целые числа от 0 до 127). Код 0
означает конец строки, таким образом в большом массиве фиксированного размера
можно будет время от времени хранить как длинные, так и короткие строки. К
сожалению, при обращении к массивам не происходит проверки на выход индекса за
пределы массива, поэтому за всем приходится следить самому и быть аккуратным.
%
\inputminted{c}{samples/string.c}

Для чтения строки можно воспользоваться функцией \texttt{gets()}. Для вывода
с помощью \texttt{printf()} нужен спецификатор \verb|%s|. Чтобы обработать
всю строку необходимо обрабатывать элементы массива друг за другом, пока не
встретится 0 как в функции \texttt{Length()} выше.

Для работы со строками можно использовать стандартные библиотечные функции,
подключив \texttt{string.h}. Например, вместо собственной функции
\texttt{Length()} лучше использовать стандартную \texttt{strlen()}.

С символами в языке Си можно (нужно!) работать и не зная их кодов, а используя
одинарные кавычки (апострофы): запись \verb|'A'| означает код буквы
\textit{A}, т.е. целое число 65 в кодовой таблице ASCII. Также бывает удобно
пользоваться тем, что заглавные буквы \texttt{A}--\texttt{Z}, строчные
\texttt{a}--\texttt{z} и цифры \texttt{0}--\texttt{9} составляют непрерывные
диапазоны, и коды соседних символов этих диапазонов отличаются на 1. Проверка
на то что символ является цифрой может выглядеть следующим образом:
%
\begin{minted}{c}
if (s[i] >= '0' && s[i] <= '9')
{
   ...
}
\end{minted}

К сожалению, это верно только для кодировки ASCII, и на некоторых экзотических
системах такие программы будут работать некорректно. Стандартная библиотека
предлагает функцию \texttt{isdigit()} и другие аналогичные при подключении
заголовочного файла \texttt{ctype.h}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{labs/ary}
\input{labs/ply}
\input{labs/str}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
